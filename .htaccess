Options +FollowSymLinks
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [NC,L]

# enables compression of assets
<IfModule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/html text/plain text/xml image/svg+xml
	AddOutputFilterByType DEFLATE text/css application/x-javascript application/javascript
	AddOutputFilterByType DEFLATE text/css text/html text/plain text/xml text/javascript
</IfModule>

# disables ETags
Header unset ETag
FileETag None

# sets far future expiry dates
ExpiresActive On
ExpiresDefault A0
ExpiresByType image/gif A2592000
ExpiresByType image/png A2592000
ExpiresByType image/jpg A2592000
ExpiresByType image/jpeg A2592000
ExpiresByType image/ico A2592000
ExpiresByType image/svg+xml A2592000
ExpiresByType text/css A2592000
ExpiresByType text/javascript A2592000
ExpiresByType application/javascript A2592000

# 480 weeks
<FilesMatch ".(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf|svg)$">
Header set Cache-Control "max-age=290304000, public"
</FilesMatch>

# hides .git folder
RedirectMatch 404 "(?:.*)/(?:\.git|file_or_dir)(?:/.*)?$"