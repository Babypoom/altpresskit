Options +FollowSymLinks

<IfModule rewrite_module>
	RewriteEngine On
	RewriteCond %{REQUEST_FILENAME} !-f
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteRule ^(.*)$ index.php [NC,L]

	# sets an enviroment var to tell php mod_rewrite is available
	SetEnv HTTP_MOD_REWRITE On
</IfModule>

# enables compression of assets
<IfModule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/html text/plain text/xml image/svg+xml
	AddOutputFilterByType DEFLATE text/css application/x-javascript application/javascript
	AddOutputFilterByType DEFLATE text/css text/html text/plain text/xml text/javascript
</IfModule>

# disables ETags
<IfModule mod_headers>
	Header unset ETag
</IfModule>
FileETag None

# sets far future expiry dates
<IfModule mod_expires>
	ExpiresActive On
	ExpiresDefault A0
	ExpiresByType image/gif A2592000
	ExpiresByType image/png A2592000
	ExpiresByType image/jpg A2592000
	ExpiresByType image/jpeg A2592000
	ExpiresByType image/ico A2592000
	ExpiresByType image/svg+xml A2592000
	ExpiresByType text/css A2592000
	ExpiresByType text/javascript A2592000
	ExpiresByType application/javascript A2592000
</IfModule>

# 480 weeks
<IfModule mod_headers>
	<FilesMatch ".(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf|svg)$">
		Header set Cache-Control "max-age=290304000, public"
	</FilesMatch>
</IfModule>

# hides .git folder
RedirectMatch 404 "(?:.*)/(?:\.git|file_or_dir)(?:/.*)?$"